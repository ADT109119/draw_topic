{"version":3,"file":"js/about.20e0253d.js","mappings":"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","sources":["webpack://draw_topic/./src/views/AboutView.vue","webpack://draw_topic/./src/views/AboutView.vue?d56f","webpack://draw_topic/./src/components/memberList.vue","webpack://draw_topic/./src/components/memberList.vue?aa3c","webpack://draw_topic/./src/components/sideBar.vue","webpack://draw_topic/./src/components/sideBar.vue?a498","webpack://draw_topic/./src/components/enterNameWindow.vue","webpack://draw_topic/./src/components/enterNameWindow.vue?f658","webpack://draw_topic/./src/components/qrcodeDisplayWindow.vue","webpack://draw_topic/./src/components/qrcodeDisplayWindow.vue?3f1a","webpack://draw_topic/./src/views/RoomView.vue","webpack://draw_topic/./src/views/RoomView.vue?c793"],"sourcesContent":["<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n  </div>\n</template>\n","import { render } from \"./AboutView.vue?vue&type=template&id=48dedea6\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    \n    <ul class=\"memberList\">\n        <li class=\"listItem\" v-for=\"(item, index) in prop.membersdata\" :key=\"index\">\n            <i class=\"material-icons\">account_circle</i>\n            <span>{{ item.username }}</span>\n        </li>\n    </ul>\n\n</template>\n\n<script setup>\n\nimport { defineProps } from 'vue'\n\nconst prop = defineProps({\n    membersdata:{\n        type: Array,\n    }\n})\n\n</script>\n\n<style>\n\n.memberList{\n    list-style: none;\n    text-align: left;\n}\n\n.memberList .listItem{\n    padding: 0.2rem 0.5rem ;\n    display: flex;\n}\n\n.memberList .listItem i{\n    color: rgb(150, 150, 150);\n}\n\n.memberList .listItem span{\n    margin-left: 4px;\n}\n\n</style>","import script from \"./memberList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./memberList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./memberList.vue?vue&type=style&index=0&id=38c1f800&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n    <div class=\"sidebar\" ref=\"sidebar\">\n        <div class=\"sidebarBackfround\" @click=\"closeSideBar\"></div>\n        <div class=\"settingContainer\">\n            <div class=\"setting col-10 col-md-4 col-sm-8\">\n                <div style=\"text-align: right; padding: 0 1rem;\">\n                    <span class=\"closeSidebarButton\" @click=\"closeSideBar\">×</span>\n                </div>\n\n                <div class=\"switcher\">\n                    <span :class=\"mode==0?'active':''\" @click=\"changeTab(0)\">設定</span>\n                    <span :class=\"mode==1?'active':''\" @click=\"changeTab(1)\">成員</span>\n                </div>\n\n                <hr style=\"margin: 0 4px;\">\n\n                <div class=\"content\">\n                    <section class=\"settingTab\" ref=\"settingTab\" :hidden=\"!mode==0\">\n                        <span>列數:</span><input type=\"number\" v-model=\"rowNum\" min=\"1\" @input=\"changeSetting\">\n                        <span>行數:</span><input type=\"number\" v-model=\"colNum\" min=\"1\" @input=\"changeSetting\">\n                        <CustomButton @click=\"downloadCsv\">下載CSV</CustomButton>\n                    </section>\n\n                    <section class=\"memberTab\" ref=\"memberTab\" :hidden=\"!mode==1\">\n                        <memberList :membersdata=\"prop.membersdata\"></memberList>\n                    </section>\n                    \n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script setup>\nimport { ref, defineEmits, defineProps, defineExpose } from 'vue';\nimport memberList from './memberList.vue';\nimport CustomButton from './customButton.vue';\nimport { useStore } from 'vuex';\n\nconst store = useStore();\nconst sidebar = ref()\nconst rowNum = ref(1);\nconst colNum = ref(1);\n\nconst settingTab = ref()\nconst memberTab = ref();\nconst mode = ref(0);\n\nconst prop = defineProps({\n    membersdata:{\n        type: Array\n    }\n})\n\nconst emit = defineEmits(['changeSetting']);\n\nconst changeSetting = ()=>{\n    console.log([rowNum.value, colNum.value]);\n    emit('changeSetting', [rowNum.value, colNum.value]);\n}\n\nconst closeSideBar = ()=>{\n    sidebar.value.classList.remove(\"active\");\n}\n\nconst changeTab = (val)=>{\n    mode.value = val\n}\n\ndefineExpose({\n    changeTab\n})\n\nconst buildData = data => {\n\n    return new Promise((resolve) => {\n        let arrayData = [];\n        let arrayTitle = JSON.parse(JSON.stringify(data.colName))\n        arrayTitle.splice(0, 0, \"項目\");\n        arrayData.push(arrayTitle);\n\n        data['data'].map((row, i) => {\n            let newRow = JSON.parse(JSON.stringify(row))\n            newRow.splice(0, 0, data.rowName[i]);\n            arrayData.push(newRow);\n        });\n\n        console.log(arrayData);\n\n        resolve(arrayData);\n    })\n\n}\n\nconst downloadCSV = data => {\n    let csvContent = '';\n    data.map(d => {\n        let dataString = d.join(',') + '\\n';\n        csvContent += dataString;\n    })\n\n    console.log(csvContent);\n\n    let fileName = '搶籤資料_' + (new Date()).getTime() + '.csv';\n\n    let link = document.createElement('a');\n    link.setAttribute('href', 'data:text/csv;charset=utf-8,%EF%BB%BF' + encodeURI(csvContent));\n    link.setAttribute('download', fileName);\n    link.click();\n}\n\nconst downloadCsv = ()=>{\n    buildData(store.getters.getData).then(data=>{downloadCSV(data)})\n    // console.log(store.getters.getData);\n}\n\n</script>\n\n<style>\n.sidebar{\n    position: fixed;\n    height: 100vh;\n    width: 100vw;\n    left: 0;\n    top: 0;\n    z-index: 10;\n    transition: 0.3s;\n    visibility: hidden;\n}\n\n.sidebar.active{\n    visibility: visible;\n}\n\n.sidebar .sidebarBackfround{\n    position: absolute;\n    height: 100vh;\n    width: 100vw;\n    background-color: rgba(0, 0, 0, 0.1);\n    left: 0;\n    top: 0;\n    backdrop-filter: blur(2px);\n    z-index: -1;\n    opacity: 0;\n    visibility: hidden;\n    transition: 0.3s;\n}\n\n.sidebar.active .sidebarBackfround{\n    opacity: 1;\n    visibility: visible;\n}\n\n.sidebar .settingContainer{\n    filter: drop-shadow(0 0 2px #CCC);\n}\n\n.sidebar .setting{\n    position: absolute;\n    right: -100%;\n    margin: 1rem;\n    border-radius: 8px;\n    background-color: white;\n    height: calc(100vh - 2rem);\n    transition: 0.3s ease-in-out;\n    /* width: 500px; */\n}\n\n.sidebar.sidebar.active .setting{\n    right: 0;\n}\n\n.sidebar .closeSidebarButton{\n    cursor: pointer;\n    font-size: 2rem;\n}\n\n.sidebar .content{\n    position: relative;\n}\n\n.sidebar .content .settingTab{\n    position: relative;\n    display: grid;\n    grid-template-columns: 5rem 1fr;\n    padding: 0.5rem;\n}\n\n.sidebar .content .memberTab{\n    position: relative;\n\n}\n\n.sidebar .switcher{\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    margin: 0 4px;\n}\n\n.sidebar .switcher span{\n    transition: 0.2s;\n    cursor: pointer;\n    border-radius: 4px 4px 0 0;\n}\n\n.sidebar .switcher span.active{\n    background-color: var(--yellow);\n}\n\n.sidebar .switcher span:hover{\n    background-color: rgb(230, 230, 230);\n}\n\n.sidebar .switcher span.active:hover{\n    background-color: var(--yellow);\n}\n\n</style>","import script from \"./sideBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./sideBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./sideBar.vue?vue&type=style&index=0&id=b9a8295c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n    <div>\n        <div class=\"enterNameWindowBackground\"></div>\n\n        <div class=\"enterNameWindow col-12 col-md-6 col-sm-8\">\n\n            <div class=\"title\">請輸入名稱</div>\n            <hr>\n            <div class=\"input-group\" style=\"margin-top: 1rem;\">\n                <input class=\"username form-control\" v-model=\"inputElement\" @input=\"changeButtonContent\" placeholder=\"請輸入名稱\">\n                <customButton style=\"--bor:0 4px 4px 0\" @click=\"enterRoom\" v-html=\"buttonContent\"></customButton>\n            </div>\n        </div>\n\n    </div>\n\n</template>\n\n<script setup>\nimport { ref, defineEmits } from 'vue';\nimport customButton from './customButton.vue';\n\nconst inputElement = ref('');\nconst buttonContent = ref('請輸入名稱');\n\n// buttonContent.value.className = \"spinner-border\";\n\nconst changeButtonContent = ()=>{\n    buttonContent.value = inputElement.value==''?\"請輸入名稱\":\"加入房間\"\n}\n\nconst emit = defineEmits(['username']);\n\nconst enterRoom = ()=>{\n    if(inputElement.value == '')\n        return;\n        \n    emit('username', inputElement.value);\n    buttonContent.value = '<span class=\"spinner-border spinner-border-sm\" style=\"font-size: 0.6rem\"></span>';\n}\n\n</script>\n\n<style>\n\n.enterNameWindowBackground{\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(2px);\n    width: 100vw;\n    height: 100vh;\n    /* z-index: -1; */\n}\n\n.enterNameWindow{\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n\n    border-radius: 16px;\n    background-color: #FFF;\n    padding: 1rem 2rem;\n    max-width: 90vw;\n    margin: auto;\n}\n\n.title{\n    font-size: 1.5rem;\n    font-weight: bold;\n}\n\n.enterNameWindow input{\n    border: none;\n    background-color: #EEE;\n    font-size: 1rem;\n    border-radius: 8px;\n    padding: 0.5rem 1rem;\n}\n\ninput.username{\n    border-radius: 4px 0 0 4px;\n}\n\n.enterNameWindow input:focus{\n    /* outline: 2px solid rgb(255, 200, 100); */\n    outline: none\n}\n</style>","import script from \"./enterNameWindow.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./enterNameWindow.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./enterNameWindow.vue?vue&type=style&index=0&id=c6a002ca&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n    <div class=\"qrcodeDisplayWindowConatiner close\">\n        <div class=\"qrcodeDisplayWindowBackground\"></div>\n\n        <div class=\"qrcodeDisplayWindow col-12 col-md-6 col-sm-8\">\n\n            <div class=\"title\">房間QR Code</div>\n            <span class=\"closeButton\" onclick=\"document.querySelector('.qrcodeDisplayWindowConatiner').classList.add('close')\">×</span>\n            <hr>\n            <div class=\"input-group\" style=\"margin-top: 1rem;\">\n                <img style=\"margin: auto;\" :src=\"`https://chart.googleapis.com/chart?cht=qr&chs=256x256&chl=${props.url}`\">\n            </div>\n        </div>\n\n    </div>\n\n</template>\n\n<script setup>\nimport { defineProps } from 'vue';\n\nconst props = defineProps({\n    url:{\n        type: String\n    }\n});\n\n</script>\n\n<style>\n\n.qrcodeDisplayWindowConatiner.close{\n    display: none;\n}\n\n.qrcodeDisplayWindowBackground{\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: rgba(0, 0, 0, 0.1);\n    backdrop-filter: blur(2px);\n    width: 100vw;\n    height: 100vh;\n    /* z-index: -1; */\n}\n\n.qrcodeDisplayWindow{\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n\n    border-radius: 16px;\n    background-color: #FFF;\n    padding: 1rem 2rem;\n    max-width: 90vw;\n    margin: auto;\n}\n\n.title{\n    font-size: 1.5rem;\n    font-weight: bold;\n}\n\n.closeButton{\n    cursor: pointer;\n    font-size: 2rem;\n    position: absolute;\n    right: 32px;\n    top: 0.5rem;\n}\n\n</style>","import script from \"./qrcodeDisplayWindow.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./qrcodeDisplayWindow.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./qrcodeDisplayWindow.vue?vue&type=style&index=0&id=58664316&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"container\">\n        <div>\n            <span style=\"color: green; display: flex; justify-content: center; font-size: 1.2rem;\" v-show=\"tableData.drawAuthSwitch\"><i class=\"material-icons\">check</i> 目前可搶籤</span>\n            <span style=\"color: red; display: flex; justify-content: center; font-size: 1.2rem;\" v-show=\"!tableData.drawAuthSwitch\"><i class=\"material-icons\">not_interested</i> 目前不可搶籤</span>\n        </div>\n        <div class=\"tableContainer table-responsive mt-1\">\n            <table class=\"table table-bordered\">\n                <thead class=\"table-light\">\n                    <tr>\n                        <th>項目</th>\n                        <th v-for=\"(item, index) in tableData.colName\" :key=\"index\" role=\"textbox\" @input=\"e => dataChange(-1, index, e)\" :contenteditable=\"peer.id != roomOwnerId?false:true\">{{ item }}</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"(item, index) in tableData.rowName\" :key=\"index\">\n                        <td :class=\"`table-light ${peer.id != roomOwnerId?'drawButton':''}`\" @click=\"draw(index)\" role=\"textbox\" @input=\"e => dataChange(index, -1, e)\" :contenteditable=\"peer.id != roomOwnerId?false:true\">{{ item }}</td>\n                        <td v-for=\"(d, colIndex) in tableData.data[index]\" :key=\"colIndex\" @input=\"event => dataChange(index, colIndex, event)\" role=\"textbox\" :contenteditable=\"peer.id != roomOwnerId?false:true\">{{ d }}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n\n    <sideBar ref=\"sideBarElement\" @change-setting=\"settingChanged\" :membersdata=\"idAndNames\"></sideBar>\n\n    <span class=\"functions\">\n        <span>\n            <span><i class=\"material-icons\" @click=\"sideBarElement.changeTab(0)\" onclick=\"document.querySelector('.sidebar').classList.add('active');\">settings</i></span>\n            <span class=\"peopleButton\" @click=\"sideBarElement.changeTab(1)\" onclick=\"document.querySelector('.sidebar').classList.add('active');\" :data-num=\"idAndNames.length\"><i class=\"material-icons\">people</i></span>\n            <span data-toggle=\"tooltip\" data-tooltip=\"允許填寫!\" @click=\"drawAuthSwitchChange(true)\"><i class=\"material-icons\">check</i></span>\n            <span data-toggle=\"tooltip\" data-tooltip=\"關閉填寫!\" @click=\"drawAuthSwitchChange(false)\"><i class=\"material-icons\">not_interested</i></span>\n            <span data-toggle=\"tooltip\" data-tooltip=\"顯示 QR Code\" @click=\"passUrlToQrCode\"><i class=\"material-icons\">qr_code</i></span>\n        </span>\n    </span>\n\n    <enterNameWindow v-show=\"peer.id != roomOwnerId && !roomOwnerConnectBack\" @username=\"enterName\"></enterNameWindow>\n    <QrcodeDisplayWindow :url=\"nowUrl\"></QrcodeDisplayWindow>\n\n</template>\n\n<script setup>\nimport { onMounted, ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport sideBar from '@/components/sideBar.vue';\nimport enterNameWindow from '@/components/enterNameWindow.vue';\nimport QrcodeDisplayWindow from '@/components/qrcodeDisplayWindow.vue';\n\nconst route = useRoute();\nconst store = useStore();\nconst tableData =ref({\n    rowName: [\"項目1\"],\n    colName: [\"名額1\"],\n    data: [[\"\"]],\n    drawAuthSwitch: true,\n})\n\nconsole.log(route.params.id);\n\nconst sideBarElement = ref();\nconst roomOwnerId = route.params.id;\nconst peer = store.getters.getPeerjsObj;\n// const drawAuthSwitch = ref(true);\nconst username = ref('');\nconst roomOwnerConnectBack = ref(false);\nlet interval;\n\nconst ids = ref([]);\nconst idAndNames = ref([]);\nvar conns = [];\nvar haveFiled = [];\n\nonMounted(()=>{\n\n    ids.value = [];\n    conns = [];\n    store.dispatch(\"setData\", tableData.value);\n\n    // setTimeout(()=>{\n    //     console.log(peer.id);\n    // }, 5000)\n\n    // setInterval(() => {\n    //     console.log(store.getters.getPeerjsObj.id);\n    //     console.log(ids);\n    //     console.log(conns);\n\n    // }, 5000);\n\n    interval = setInterval(() => {\n        if(peer.id != null){\n            clearInterval(interval);\n            if(peer.id == roomOwnerId)\n                interval = setInterval(() => {\n                    sendMessage({\n                        type: 'text',\n                        data: JSON.stringify(tableData.value)\n                    })\n\n                    sendMessage({\n                        type: 'usersList',\n                        data: JSON.stringify(idAndNames.value)\n                    })\n                }, 1000);\n        }else{\n            console.log(\"not\");\n        }\n    }, 1000);\n    \n    // setInterval(() => {\n    //     console.log(tableData.value.data);\n    // }, 2000);\n\n    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-toggle=\"tooltip\"]'))\n    // var bodyRect = document.body.getBoundingClientRect()\n    tooltipTriggerList.map(function (tooltipTriggerEl) {\n        let el;\n        tooltipTriggerEl.onmouseenter = ()=>{\n            let rect = tooltipTriggerEl.getBoundingClientRect();\n            el = document.createElement(\"div\");\n            // console.log(window.screen.height)\n            el.className = \"tooltip bs-tooltip-auto fade show\";\n            el.style = `position: absolute; inset: auto auto 0px 0px; margin: 0px; left:${rect.left}px; top: ${rect.bottom}px;`;\n            el.innerHTML = `<div class=\"tooltip-arrow\" style=\"position: absolute; left: 0px; transform: translate3d(28px, 0px, 0px);\"></div><div class=\"tooltip-inner\">${tooltipTriggerEl.dataset.tooltip}</div>`\n            document.body.append(el);\n        }\n\n        tooltipTriggerEl.onmouseleave = ()=>{\n            el.remove();\n        }\n        return el\n    })\n\n\n})\n\nconst enterName = (val)=>{\n    if(peer.id == null)\n        return;\n\n    if(val == '' || val == undefined)\n        return;\n\n    // console.log(val);\n    username.value = val;\n    // conn2Peer(roomOwnerId);\n    conn2Peer(JSON.stringify({\n        id: roomOwnerId,\n        username: '房主'\n    }));\n}\n\nconst drawAuthSwitchChange = (val)=>{\n    if(peer.id != roomOwnerId){\n        alert(\"您不是房主\");\n        return;\n    }\n\n    tableData.value.drawAuthSwitch = val;\n}\n\nconst draw = (row)=>{\n    sendMessage({\n        type: 'draw',\n        data: row\n    })\n}\n\nconst settingChanged = (data)=>{\n    // data[0]: rowNum\n    // data[1]: colNum\n    // console.log(data)\n    if(data[0] < 1)\n        data[0] = 1;\n\n    if(data[1] < 1)\n        data[1] = 1;\n    // row 改變\n    if(tableData.value.rowName.length < data[0]){\n        let nowRowNum = tableData.value.rowName.length;\n        for(let j = nowRowNum ; j < data[0] ; j++){\n            tableData.value.rowName.push('新項目');\n\n            let tempArr = []\n            for(let i = 0 ; i < data[1] ; i++)\n                tempArr.push('');\n            \n            tableData.value.data.push(JSON.parse(JSON.stringify(tempArr)));\n        }\n\n    }else{\n        tableData.value.rowName = tableData.value.rowName.slice(0, data[0]);\n        tableData.value.data = tableData.value.data.slice(0, data[0]);\n    }\n\n    // col 改變\n    if(tableData.value.colName.length < data[1]){\n        let nowColNum = tableData.value.colName.length;\n        for(let j = nowColNum ; j < data[1] ; j++){\n            tableData.value.colName.push('新名額');\n\n            for(let i = 0 ; i < tableData.value.data.length ; i++)\n                tableData.value.data[i].push('');\n        }\n\n\n    }else{\n        tableData.value.colName = tableData.value.colName.slice(0, data[1]);\n        for(let i = 0 ; i < tableData.value.data.length ; i++)\n            tableData.value.data[i] = tableData.value.data[i].slice(0, data[1]);\n    }\n    // console.log(tableData.value.data);\n\n    // sendMessage({\n    //     type: \"text\",\n    //     data: JSON.stringify(tableData.value)\n    // })\n\n}\n\nconst dataChange = (row, col, e)=>{\n    e.preventDefault();\n    // console.log(e.target.textContent);\n    if(row == -1)\n        tableData.value.colName[col] = e.target.textContent.replace(/\\n/gi, \"\");\n\n    if(col == -1)\n        tableData.value.rowName[row] = e.target.textContent.replace(/\\n/gi, \"\");\n        \n    if(row != -1 && col != -1)\n        tableData.value.data[row][col] = e.target.textContent.replace(/\\n/gi, \"\");\n\n    // sendMessage({\n    //     type: \"text\",\n    //     data: JSON.stringify(tableData.value)\n    // })\n}\n\nwatch(tableData.value, (val)=>{\n    sendMessage({\n        type: \"text\",\n        data: JSON.stringify(val)\n    })\n    store.dispatch(\"setData\", tableData.value);\n})\n\npeer.on('connection', function(conn) {\n\n    conn.on('data', function(data){\n        data = JSON.parse(data);\n        // console.log(data);\n        switch(data['type']){\n            case 'conn':\n                if(conn.peer == roomOwnerId)\n                    roomOwnerConnectBack.value = true;\n\n                conn2Peer(data['data']);\n                break;\n\n            case 'text':\n                if(peer.id == roomOwnerId)\n                    break;\n\n                tableData.value = JSON.parse(data['data']);\n                // console.log(data['data'])\n                break;\n\n            case 'draw':\n                if(tableData.value.drawAuthSwitch == false)\n                    break;\n\n                // console.log(conn.peer);\n                var drawUsername = '';\n                // var drawUsername = idAndNames.map((item)=>{\n                //     if(item.id == peer.id)\n                //         return item.username;\n                // })\n                // console.log(drawUsername)\n                for(let i = 0 ; i < idAndNames.value.length ; i++){\n                    if(idAndNames.value[i].id == conn.peer){\n                        drawUsername = idAndNames.value[i].username;\n                        break;\n                    }\n                }\n\n                if(haveFiled.includes(conn.peer))\n                    break;\n\n                var row = parseInt(data['data']);\n\n                for(let i = 0 ; i < tableData.value.colName.length ; i++){\n                    if(tableData.value.data[row][i] == ''){\n                        tableData.value.data[row][i] = drawUsername;\n\n                        if(tableData.value.data[row][i] == drawUsername){\n                            haveFiled.push(conn.peer);\n                            break;\n                        }\n                    }\n                }\n                \n\n                break;\n\n            case 'usersList':\n                if(peer.id == roomOwnerId)\n                    break;\n\n                idAndNames.value = JSON.parse(data['data']);\n                // console.log(data['data'])\n                break;\n\n\n            default:\n                break;\n\n        }\n        \n    });\n\n});\n\n//連接\nfunction conn2Peer(data){\n\n    let d = JSON.parse(data);\n    let id = d['id'];\n    let targetUsername = d['username'];\n\n    if(ids.value.includes(id))\n        return;\n\n    console.log(id);\n    ids.value.push(id);\n    // store.dispatch('addId', {id: id});\n    let tempObj = {\n        id: id,\n        username: targetUsername\n    }\n    idAndNames.value.push(JSON.parse(JSON.stringify(tempObj)))\n    var conn = peer.connect(id);\n    conn.on('open', function(){\n\n        let allIdData = {\n            \"type\": \"conn\",\n            \"data\": JSON.stringify({\n                id: peer.id,\n                username: username.value\n            })\n        }\n        conn.send(JSON.stringify(allIdData));\n\n        conns.push(conn);\n    });\n\n}\n\n//傳資料\nfunction sendMessage(data){\n\n    // console.log(data)\n    data = JSON.stringify(data);\n\n    conns.forEach((conn)=>{\n\n        conn.send(data);\n\n    });\n\n}\n\nconst nowUrl = ref(\"\");\nconst passUrlToQrCode = ()=>{\n    nowUrl.value = encodeURIComponent(location.href);\n    document.querySelector('.qrcodeDisplayWindowConatiner').classList.remove('close')\n}\n\n</script>\n\n<style>\n\n.container{\n    margin-top: 1rem;\n    padding-bottom: 15%;\n}\n\n.tableContainer{\n    filter: drop-shadow(0 0 2px #DDD);\n    border-radius: 16px;\n\n}\n\n.table{\n    position: relative;\n    /* left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    /* width: 100%; */\n    max-height: 60vh;\n    /* max-width: 90vw; */\n    /* display: flex; */\n    /* flex-direction: row; */\n    /* margin: auto; */\n    /* justify-content: center; */\n    /* background: #FFF; */\n    /* padding: 1.5rem; */\n    /* overflow: scroll; */\n    /* width: fit-content; */\n}\n/* \n.table div{\n    display: flex;\n    flex-direction: column;\n}\n\n.table div span{\n    display: block;\n    height: 1.5rem;\n    line-height: 1.5rem;\n} */\n\ntable td, table th{\n    white-space: nowrap;\n    word-break: keep-all;\n}\n\ntable input{\n    outline: none;\n}\n\ntable .drawButton{\n    cursor: pointer;\n    transition: 0.2s;\n}\n\ntable .drawButton:hover{\n    /* cursor: pointer; */\n    outline: 4px solid var(--yellow);\n}\n\n.functions{\n    position: fixed;\n    bottom: 10%;\n    left: 50%;\n    transform: translate(-50%, 0);\n    filter: drop-shadow(0 0 2px #DDD);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background: #FFF;\n    border-radius: 99999px;\n}\n\n.functions > span{\n    display: flex;\n    flex-wrap: nowrap;\n    /* background: #FFF; */\n    padding: 0.5rem;\n    border-radius: 99999px;\n    height: 3rem;\n    line-height: 3rem;\n\n}\n\n.functions > span > span{\n    display: block;\n    /* padding: 0.5rem 1rem; */\n    border-radius: 50%;\n    /* background: #DDD; */\n    width: 36px;\n    height: 36px;\n    line-height: 36px;\n    margin: 0 4px;\n    transition: 0.2s;\n    cursor: pointer;\n    user-select: none;\n}\n\n\n.functions > span > span:hover, .functions > span > span.active{\n    background: var(--yellow);\n}\n\n.functions > span > span > i{\n    line-height: 36px;\n}\n\n.functions .peopleButton{\n    position: relative;\n}\n\n.functions .peopleButton::before{\n    content: attr(data-num);\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 10;\n    font-size: 0.6rem;\n    display: block;\n    line-height: 1.6rem;\n}\n\n\n</style>","import script from \"./RoomView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RoomView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RoomView.vue?vue&type=style&index=0&id=7b82479e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_cache","_createElementVNode","script","__exports__","render","prop","__props","store","useStore","sidebar","ref","rowNum","colNum","settingTab","memberTab","mode","emit","__emit","changeSetting","console","log","value","closeSideBar","classList","remove","changeTab","val","__expose","buildData","data","Promise","resolve","arrayData","arrayTitle","JSON","parse","stringify","colName","splice","push","map","row","i","newRow","rowName","downloadCSV","csvContent","d","dataString","join","fileName","Date","getTime","link","document","createElement","setAttribute","encodeURI","click","downloadCsv","getters","getData","then","inputElement","buttonContent","changeButtonContent","enterRoom","props","route","useRoute","tableData","drawAuthSwitch","params","id","sideBarElement","roomOwnerId","peer","getPeerjsObj","username","roomOwnerConnectBack","interval","ids","idAndNames","conns","haveFiled","onMounted","dispatch","setInterval","clearInterval","sendMessage","type","tooltipTriggerList","slice","call","querySelectorAll","tooltipTriggerEl","el","onmouseenter","rect","getBoundingClientRect","className","style","left","bottom","innerHTML","dataset","tooltip","body","append","onmouseleave","enterName","undefined","conn2Peer","drawAuthSwitchChange","alert","draw","settingChanged","length","nowRowNum","j","tempArr","nowColNum","dataChange","col","e","preventDefault","target","textContent","replace","targetUsername","includes","tempObj","conn","connect","on","allIdData","send","forEach","watch","drawUsername","parseInt","nowUrl","passUrlToQrCode","encodeURIComponent","location","href","querySelector"],"sourceRoot":""}